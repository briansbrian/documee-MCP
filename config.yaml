# MCP Server Configuration
# This file contains default settings for the codebase-to-course-mcp server

server:
  name: codebase-to-course-mcp
  version: 1.0.0
  transport: stdio

cache:
  memory:
    max_size_mb: 500
  sqlite:
    enabled: true
    path: cache_db/cache.db
  redis:
    enabled: false
    url: null

analysis:
  max_file_size_mb: 10
  max_files_per_scan: 10000
  max_parallel_reads: 10
  scan_timeout_seconds: 30
  
  # Analysis Engine Configuration
  supported_languages:
    - python
    - javascript
    - typescript
    - java
    - go
    - rust
    - cpp
    - c_sharp
    - ruby
    - php
  
  max_complexity_threshold: 10
  min_complexity_threshold: 2
  min_documentation_coverage: 0.5
  
  teaching_value_weights:
    documentation: 0.3
    complexity: 0.25
    pattern: 0.25
    structure: 0.2
  
  max_parallel_files: 10
  parse_timeout_seconds: 5
  enable_linters: false
  cache_ttl_seconds: 3600

security:
  allowed_paths: []
  max_depth: 10
  blocked_patterns:
    - node_modules
    - .git
    - dist
    - build
    - .next
    - __pycache__
    - venv
    - env
    - .venv
    - target
    - out
    - coverage
    - .pytest_cache

performance:
  enable_profiling: false
  log_slow_operations: true
  slow_operation_threshold_ms: 1000

logging:
  level: INFO
  file: server.log
  max_size_mb: 10
  backup_count: 3

ai_enrichment:
  # Default enrichment settings for AI-generated content
  skill_level: beginner  # beginner, intermediate, advanced
  tone: casual  # casual, formal, technical
  depth: detailed  # brief, moderate, detailed, comprehensive
  
  # Content generation options
  content_options:
    include_analogies: true  # Include real-world analogies for concepts
    include_diagrams: true  # Include architecture and flow diagrams
    include_examples: true  # Include practical code examples
    include_exercises: true  # Include hands-on exercises
    include_best_practices: true  # Highlight best practices
    include_anti_patterns: true  # Warn about common pitfalls
    include_real_world_context: true  # Add industry context
    progressive_hints: true  # Provide progressive hints for exercises
  
  # Evidence and validation requirements
  evidence_requirements:
    always_cite_sources: true  # Require citations for all claims
    validate_against_tests: true  # Cross-check with test files
    cross_reference_files: true  # Verify consistency across files
    include_git_context: true  # Include git history context
  
  # Teaching value thresholds
  teaching_value:
    min_score_to_teach: 7  # Minimum score (0-14) to include in course
    prioritize_fundamentals: true  # Prioritize fundamental concepts
    focus_on_reusability: true  # Emphasize reusable patterns
